# üé® –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ PhotoSet

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ (–ø–æ –ø—Ä–∏–º–µ—Ä—É facee.ru):

### 1. **–ú–æ–¥–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- –ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –ø—Ä–æ–º–ø—Ç, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –º–æ–¥–µ–ª—å
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: —Å–∫–∞—á–∞—Ç—å, –ø–æ–¥–µ–ª–∏—Ç—å—Å—è, –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `src/components/ImageViewModal.tsx`

### 2. **–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–æ–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–•—É–∫**: `src/hooks/useUserImages.ts`

### 3. **–°–∏—Å—Ç–µ–º–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ**
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –§–∏–ª—å—Ç—Ä "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" –≤ –≥–∞–ª–µ—Ä–µ–µ
- –ü–æ–ª–µ `is_favorite` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–ú–∏–≥—Ä–∞—Ü–∏—è**: `db_migrations/V0010__add_favorites_to_images.sql`

### 4. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è**
- –§–∏–ª—å—Ç—Ä—ã: "–í—Å–µ" –∏ "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ"
- –°—á–µ—Ç—á–∏–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø—Ä–∏–∑—ã–≤–æ–º –∫ –¥–µ–π—Å—Ç–≤–∏—é
- –°–µ—Ç–∫–∞ –≤–º–µ—Å—Ç–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

### 5. **–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è**
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å" –≤ –º–æ–¥–∞–ª–∫–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

### 6. **–ö–ª–∏–∫ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö**
- –ü—Ä–∏–º–µ—Ä—ã —Ç–µ–ø–µ—Ä—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
- –û—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∏–º–µ—Ä–∞–º–∏

## üóÑÔ∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ is_favorite
ALTER TABLE generated_images 
ADD COLUMN is_favorite BOOLEAN DEFAULT FALSE;

-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
CREATE INDEX idx_generated_images_user_favorite 
ON generated_images(user_id, is_favorite, created_at DESC);
```

## üîß Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏—è**: `backend/admin-images/index.py`
- GET —Å `?user_id=X` - –ø–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- POST - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –æ–±—ä–µ–∫—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—è `is_favorite`

## üì¶ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. `src/components/ImageViewModal.tsx` - –º–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (144 —Å—Ç—Ä–æ–∫–∏)
2. `src/hooks/useUserImages.ts` - —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–µ–π (79 —Å—Ç—Ä–æ–∫)

## üéØ –ß—Ç–æ –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω–æ (–∏–∑-–∑–∞ –ª–∏–º–∏—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–π):

- `backend/user-images` - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
- `backend/toggle-favorite` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (–ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ UI)

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –æ–±–ª–∞—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Å is_favorite=false
2. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–∞–ª–µ—Ä–µ—é** ‚Üí –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ö—É–∫ useUserImages
3. **–ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ImageViewModal —Å –¥–µ—Ç–∞–ª—è–º–∏
4. **–î–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ** ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (UI –≥–æ—Ç–æ–≤, –±—ç–∫–µ–Ω–¥ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
5. **–§–∏–ª—å—Ç—Ä—É–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–µ** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ is_favorite=true

## üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å backend/toggle-favorite –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Å–ª–æ—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö –≥–∞–ª–µ—Ä–µ–π (>100 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–º–ø—Ç–∞–º –≤ –≥–∞–ª–µ—Ä–µ–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É (–ø–æ –¥–∞—Ç–µ, –ø–æ –º–æ–¥–µ–ª–∏)
